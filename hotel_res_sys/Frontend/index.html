<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lux Hotels</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    .hidden { display: none; }
    .active { color: #3b82f6; }
    #confirmationMessage { 
      background-color: #d4edda; 
      color: #155724; 
      padding: 1rem; 
      border-radius: 0.375rem; 
      margin-bottom: 1rem; 
      display: none; 
    }
  </style>
</head>
<body>
  <header class="bg-gray-800 text-white p-4">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-2xl font-bold">Lux Hotels</h1>
      <nav>
        <ul class="flex space-x-4">
          <li><a href="#home" class="nav-link hover:text-gray-400 active">Home</a></li>
          <li><a href="#hotels" class="nav-link hover:text-gray-400">Hotels</a></li>
          <li><a href="#rooms" class="nav-link hover:text-gray-400">Rooms</a></li>
          <li><a href="#reservations" class="nav-link hover:text-gray-400">Reservations</a></li>
          <li><a href="#customers" class="nav-link hover:text-gray-400">Customers</a></li>
          <li><a href="#payments" class="nav-link hover:text-gray-400">Payments</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container mx-auto p-4">
    <section id="home">
      <div class="bg-gray-100 p-8">
        <div id="confirmationMessage"></div>
        <h2 class="text-3xl font-bold mb-4">Welcome to Lux Hotels</h2>
        <p class="mb-4">Discover luxury and comfort at Lux Hotels, where every stay is an experience to remember. With locations worldwide, we offer top-tier amenities and exceptional service.</p>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
          <img src="hotel1.jpg" alt="Hotel 1" class="w-full h-64 object-cover">
          <img src="hotel2.jpg" alt="Hotel 2" class="w-full h-64 object-cover">
          <img src="hotel3.jpg" alt="Hotel 3" class="w-full h-64 object-cover">
        </div>
        <h3 class="text-2xl font-bold mb-4">About Us</h3>
        <p class="mb-4">Welcome to Lux Hotels, where every stay is crafted to embody the pinnacle of modern luxury and heartfelt hospitality. Born from a passion for creating unforgettable experiences, Lux Hotels brings you a collection of meticulously designed properties in the world’s most coveted destinations. From the moment you step into our grand lobbies, you’ll discover our unwavering commitment to comfort, style, and personalized service.

            At Lux Hotels, we believe that true luxury lies in the details. Our elegantly appointed rooms and suites feature sumptuous linens, bespoke furnishings, and cutting-edge amenities—each element thoughtfully chosen to delight your senses and anticipate your needs. Whether you’re unwinding in our rooftop infinity pool with panoramic city views, savoring a signature cocktail at our intimate lounge, or indulging in a bespoke spa treatment, every moment is infused with our trademark blend of sophistication and warmth.
            
            We’re more than just a place to stay: we’re your gateway to authentic local discovery. Our dedicated concierge teams—experts in art, culture, gastronomy, and adventure—are on hand 24/7 to curate personalized itineraries. From hidden-gem eateries to private yacht charters, insider tours to exclusive events, we’ll help you uncover the soul of each city in a way only a true insider can.
            
            Sustainability and community lie at the heart of Lux Hotels’ philosophy. We partner with local artisans, source ingredients from nearby farms, and champion eco-friendly practices to ensure our footprint is as light as our service is lavish. By staying with us, you contribute to initiatives that empower neighborhoods, preserve cultural heritage, and protect our planet for future travelers.
            
            At Lux Hotels, you’re not just checking in—you’re joining a family of discerning explorers and storytellers. Our promise to you is simple: an extraordinary stay, wrapped in seamless service and inspired design, where every moment becomes a cherished memory. Whether you’re here for business, romance, or a grand adventure, allow us to elevate your journey beyond the ordinary.
            
            Welcome to the height of refined living. Welcome to Lux Hotels.</p>
        <h3 class="text-2xl font-bold mb-4">Our History</h3>
        <p class="mb-4">Lux Hotels was born from a single vision: to redefine luxury travel through timeless design, genuine hospitality, and an unwavering commitment to quality. Our story began over two decades ago, when a small team of passionate hoteliers and designers came together in 2001 with the goal of creating a haven for discerning travelers—one where impeccable service and authentic local flair lived side by side.

            The first Lux property opened its doors in the heart of Paris, a city celebrated for art, cuisine, and romance. From day one, it set a new standard: hand-picked antique furnishings blended with contemporary comforts, Michelin-inspired dining crafted by visionary chefs, and bespoke guest programs that whisked visitors behind the scenes of Parisian life. Word spread quickly, and our Paris flagship became a must-stay destination for those seeking an elevated travel experience.
            
            Over the years, we expanded thoughtfully, always choosing only the most captivating locations and preserving each locale’s unique character. In 2006, we debuted our coastal retreat on the Amalfi Coast, where pastel-hued villas cascade toward the Mediterranean—and our commitment to sustainability led us to integrate solar power and organic gardens long before eco-luxury was a trend. In 2012, our mountain chalet in the Swiss Alps combined alpine charm with wellness-focused amenities, introducing our signature spa rituals inspired by centuries-old herbal traditions.
            
            As our footprint grew across five continents, we remained true to our founding principles: exceptional design, genuine human connection, and meaningful engagement with every community we enter. We forged partnerships with local artisans—from Japanese ceramicists to Moroccan weavers—to ensure that every detail in our hotels tells a story of place and people. We supported neighborhood initiatives, helped restore historic landmarks, and invested in training programs that empower our staff and uplift the neighborhoods around our properties.
            
            Today, Lux Hotels stands as an award-winning collection of curated destinations, each one a living testament to our heritage of innovation and integrity. While our locations may differ—from urban penthouses to desert sanctuaries—the heartbeat of our history remains constant: a passion for craftsmanship, a devotion to hospitality, and the belief that luxury is most meaningful when it’s personal, purposeful, and profoundly human.</p>
        <h3 class="text-2xl font-bold mb-4">Feedback</h3>
        <form id="feedbackForm" class="space-y-4">
          <input type="text" id="name" placeholder="Name" class="w-full p-2 border rounded">
          <input type="email" id="email" placeholder="Email" class="w-full p-2 border rounded">
          <textarea id="message" placeholder="Your Feedback" class="w-full p-2 border rounded h-32"></textarea>
          <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Submit</button>
        </form>
      </div>
    </section>

    <section id="hotels" class="hidden">
      <h2 class="text-2xl font-bold mb-4">Hotels</h2>
      <button class="bg-blue-500 text-white px-4 py-2 rounded mb-4" onclick="openModal('hotels')">Add Hotel</button>
      <table class="w-full border-collapse border border-gray-300">
        <thead>
          <tr class="bg-gray-200">
            <th class="border border-gray-300 p-2">ID</th>
            <th class="border border-gray-300 p-2">Name</th>
            <th class="border border-gray-300 p-2">Location</th>
            <th class="border border-gray-300 p-2">Contact</th>
            <th class="border border-gray-300 p-2">Rating</th>
            <th class="border border-gray-300 p-2">Total Rooms</th>
            <th class="border border-gray-300 p-2">Actions</th>
          </tr>
        </thead>
        <tbody id="hotelsTable"></tbody>
      </table>
    </section>

    <section id="rooms" class="hidden">
      <h2 class="text-2xl font-bold mb-4">Rooms</h2>
      <button class="bg-blue-500 text-white px-4 py-2 rounded mb-4" onclick="openModal('rooms')">Add Room</button>
      <table class="w-full border-collapse border border-gray-300">
        <thead>
          <tr class="bg-gray-200">
            <th class="border border-gray-300 p-2">ID</th>
            <th class="border border-gray-300 p-2">Hotel</th>
            <th class="border border-gray-300 p-2">Room Number</th>
            <th class="border border-gray-300 p-2">Room Type</th>
            <th class="border border-gray-300 p-2">Price per Night</th>
            <th class="border border-gray-300 p-2">Availability</th>
            <th class="border border-gray-300 p-2">Actions</th>
          </tr>
        </thead>
        <tbody id="roomsTable"></tbody>
      </table>
    </section>

    <section id="reservations" class="hidden">
      <h2 class="text-2xl font-bold mb-4">Reservations</h2>
      <button class="bg-blue-500 text-white px-4 py-2 rounded mb-4" onclick="openModal('reservations')">Add Reservation</button>
      <table class="w-full border-collapse border border-gray-300">
        <thead>
          <tr class="bg-gray-200">
            <th class="border border-gray-300 p-2">ID</th>
            <th class="border border-gray-300 p-2">Customer</th>
            <th class="border border-gray-300 p-2">Room</th>
            <th class="border border-gray-300 p-2">Check-In Date</th>
            <th class="border border-gray-300 p-2">Check-Out Date</th>
            <th class="border border-gray-300 p-2">Total Price</th>
            <th class="border border-gray-300 p-2">Status</th>
            <th class="border border-gray-300 p-2">Actions</th>
          </tr>
        </thead>
        <tbody id="reservationsTable"></tbody>
      </table>
    </section>

    <section id="customers" class="hidden">
      <h2 class="text-2xl font-bold mb-4">Customers</h2>
      <button class="bg-blue-500 text-white px-4 py-2 rounded mb-4" onclick="openModal('customers')">Add Customer</button>
      <table class="w-full border-collapse border border-gray-300">
        <thead>
          <tr class="bg-gray-200">
            <th class="border border-gray-300 p-2">ID</th>
            <th class="border border-gray-300 p-2">Full Name</th>
            <th class="border border-gray-300 p-2">Email</th>
            <th class="border border-gray-300 p-2">Phone</th>
            <th class="border border-gray-300 p-2">Address</th>
            <th class="border border-gray-300 p-2">Password</th>
            <th class="border border-gray-300 p-2">Booking History</th>
            <th class="border border-gray-300 p-2">Actions</th>
          </tr>
        </thead>
        <tbody id="customersTable"></tbody>
      </table>
    </section>

    <section id="payments" class="hidden">
      <h2 class="text-2xl font-bold mb-4">Payments</h2>
      <button class="bg-blue-500 text-white px-4 py-2 rounded mb-4" onclick="openModal('payments')">Add Payment</button>
      <table class="w-full border-collapse border border-gray-300">
        <thead>
          <tr class="bg-gray-200">
            <th class="border border-gray-300 p-2">ID</th>
            <th class="border border-gray-300 p-2">Reservation</th>
            <th class="border border-gray-300 p-2">Amount</th>
            <th class="border border-gray-300 p-2">Payment Method</th>
            <th class="border border-gray-300 p-2">Payment Status</th>
            <th class="border border-gray-300 p-2">Transaction Date</th>
            <th class="border border-gray-300 p-2">Actions</th>
          </tr>
        </thead>
        <tbody id="paymentsTable"></tbody>
      </table>
    </section>
  </main>

  <div id="modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden flex items-center justify-center">
    <div class="bg-white p-6 rounded shadow-lg w-1/3">
      <h3 id="modalTitle" class="text-xl font-bold mb-4"></h3>
      <div id="modalContent"></div>
      <div class="mt-4 flex justify-end space-x-2">
        <button class="bg-green-500 text-white px-4 py-2 rounded" onclick="saveItem()">Save</button>
        <button class="bg-gray-500 text-white px-4 py-2 rounded" onclick="closeModal()">Cancel</button>
      </div>
    </div>
  </div>

  <script>
    const apiUrl = 'http://127.0.0.1:8000/api';  // Adjust to 'http://127.0.0.1:8000/api' if needed
  
    const entityFields = {
      hotels: [
        { name: 'hotel_name', type: 'text', label: 'Hotel Name' },
        { name: 'location', type: 'text' },
        { name: 'contact', type: 'text' },
        { name: 'rating', type: 'number' },
        { name: 'total_rooms', type: 'number' }
      ],
      rooms: [
        { name: 'hotel_id', type: 'number', label: 'Hotel ID' },
        { name: 'room_number', type: 'text' },
        { name: 'room_type', type: 'text' },
        { name: 'price_per_night', type: 'number' },
        { name: 'availability_status', type: 'text' }  // Boolean in model, but text input for simplicity
      ],
      reservations: [
        { name: 'customer_id', type: 'number', label: 'Customer ID' },
        { name: 'room_id', type: 'number', label: 'Room ID' },
        { name: 'check_in_date', type: 'date' },
        { name: 'check_out_date', type: 'date' },
        { name: 'total_price', type: 'number' },
        { name: 'status', type: 'text' }
      ],
      customers: [
        { name: 'full_name', type: 'text' },
        { name: 'email', type: 'email' },
        { name: 'phone', type: 'text' },
        { name: 'address', type: 'text' },
        { name: 'password', type: 'password' },
        { name: 'booking_history', type: 'text' }
      ],
      payments: [
        { name: 'reservation_id', type: 'number', label: 'Reservation ID' },
        { name: 'amount', type: 'number' },
        { name: 'payment_method', type: 'text' },
        { name: 'payment_status', type: 'text' },
        { name: 'transaction_date', type: 'date' }
      ]
    };
  
    let currentEndpoint = '';
    let currentId = null;
  
    function fetchData(endpoint, tableId) {
      console.log('Fetching from:', `${apiUrl}/${endpoint}/`);
      fetch(`${apiUrl}/${endpoint}/`)
        .then(response => {
          console.log('Response status:', response.status);
          if (!response.ok) {
            return response.text().then(text => {
              throw new Error(`Failed to fetch data: ${response.status} - ${text}`);
            });
          }
          return response.json();
        })
        .then(data => {
          console.log('Data received:', data);
          const table = document.getElementById(tableId);
          table.innerHTML = '';
          data.forEach(item => {
            const row = document.createElement('tr');
            entityFields[endpoint].forEach(field => {
              const cell = document.createElement('td');
              cell.textContent = item[field.name] || '';
              cell.className = 'border border-gray-300 p-2';
              row.appendChild(cell);
            });
            const actionsCell = document.createElement('td');
            actionsCell.className = 'border border-gray-300 p-2';
            actionsCell.innerHTML = `
              <button class="bg-yellow-500 text-white px-2 py-1 rounded mr-2" onclick="editItem('${endpoint}', ${item.id || item[`${endpoint.slice(0, -1)}_id`]})">Edit</button>
              <button class="bg-red-500 text-white px-2 py-1 rounded" onclick="deleteItem('${endpoint}', ${item.id || item[`${endpoint.slice(0, -1)}_id`]})">Delete</button>
            `;
            row.appendChild(actionsCell);
            table.appendChild(row);
          });
        })
        .catch(error => {
          console.error('Fetch error:', error);
          alert('Error fetching data: ' + error.message);
        });
    }
  
    function openModal(endpoint, id = null) {
      currentEndpoint = endpoint;
      currentId = id;
      const modal = document.getElementById('modal');
      const modalTitle = document.getElementById('modalTitle');
      const modalContent = document.getElementById('modalContent');
  
      modalTitle.textContent = id ? `Edit ${endpoint}` : `Add ${endpoint}`;
      modalContent.innerHTML = '';
      entityFields[endpoint].forEach(field => {
        const div = document.createElement('div');
        div.className = 'mb-2';
        const label = document.createElement('label');
        label.textContent = field.label || field.name.replace('_', ' ').replace(/\b\w/g, l => l.toUpperCase());
        label.className = 'block text-gray-700';
        const input = document.createElement('input');
        input.id = field.name;
        input.type = field.type;
        input.className = 'w-full p-2 border rounded';
        input.placeholder = field.label || field.name.replace('_', ' ');
        div.appendChild(label);
        div.appendChild(input);
        modalContent.appendChild(div);
      });
  
      if (id) {
        fetch(`${apiUrl}/${currentEndpoint}/${id}/`)
          .then(response => {
            if (!response.ok) throw new Error(`Failed to fetch item: ${response.statusText}`);
            return response.json();
          })
          .then(data => {
            entityFields[endpoint].forEach(field => {
              document.getElementById(field.name).value = data[field.name] || '';
            });
          })
          .catch(error => alert('Error loading item: ' + error.message));
      }
      modal.classList.remove('hidden');
    }
  
    function closeModal() {
      document.getElementById('modal').classList.add('hidden');
    }
  
    function showConfirmationMessage(message) {
      const confirmationDiv = document.getElementById('confirmationMessage');
      confirmationDiv.textContent = message;
      confirmationDiv.style.display = 'block';
      setTimeout(() => {
        confirmationDiv.style.display = 'none';
      }, 3000);
    }
  
    function saveItem() {
      const data = {};
      entityFields[currentEndpoint].forEach(field => {
        const value = document.getElementById(field.name).value;
        if (value === '') {
          data[field.name] = null;
        } else {
          data[field.name] = field.type === 'number' ? Number(value) : value;
        }
      });
  
      const method = currentId ? 'PUT' : 'POST';
      const url = currentId ? `${apiUrl}/${currentEndpoint}/${currentId}/` : `${apiUrl}/${currentEndpoint}/`;
  
      console.log('Saving to:', url);
      console.log('Data being sent:', data);
  
      fetch(url, {
        method: method,
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      })
        .then(response => {
          console.log('Save response status:', response.status);
          if (!response.ok) {
            return response.json().then(errorData => {
              throw new Error(`Failed to save: ${JSON.stringify(errorData)}`);
            });
          }
          return response.json();
        })
        .then(() => {
          closeModal();
          showSection('home');
          window.location.hash = 'home';
          showConfirmationMessage('Data has been saved successfully!');
        })
        .catch(error => {
          console.error('Save error:', error);
          alert('Error saving item: ' + error.message);
        });
    }
  
    function editItem(endpoint, id) {
      openModal(endpoint, id);
    }
  
    function deleteItem(endpoint, id) {
      if (confirm('Are you sure you want to delete this item?')) {
        fetch(`${apiUrl}/${endpoint}/${id}/`, { method: 'DELETE' })
          .then(response => {
            if (!response.ok) throw new Error(`Failed to delete: ${response.statusText}`);
            fetchData(endpoint, `${endpoint}Table`);
          })
          .catch(error => alert('Error deleting item: ' + error.message));
      }
    }
  
    function showSection(sectionId) {
      const sections = document.querySelectorAll('main > section');
      sections.forEach(section => section.classList.add('hidden'));
      document.getElementById(sectionId).classList.remove('hidden');
  
      const navLinks = document.querySelectorAll('.nav-link');
      navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === `#${sectionId}`) {
          link.classList.add('active');
        }
      });
  
      if (sectionId !== 'home') {
        fetchData(sectionId, `${sectionId}Table`);
      }
    }
  
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const sectionId = link.getAttribute('href').slice(1);
        showSection(sectionId);
        window.location.hash = sectionId;
      });
    });
  
    window.addEventListener('load', () => {
      const sectionId = window.location.hash.slice(1) || 'home';
      showSection(sectionId);
    });
  
    document.getElementById('feedbackForm').addEventListener('submit', function(e) {
      e.preventDefault();
      showConfirmationMessage('Thank you for your feedback!');
      this.reset();
    });
  </script>


</body>
</html>